import{k as M,c as d,o as l,a as s,u as b,t as u,F as v,b as D,r as g,i as U,e as k,j as C,g as H}from"./index-y1_QKGzB.js";const n=[];for(let t=0;t<256;++t)n.push((t+256).toString(16).slice(1));function $(t,e=0){return(n[t[e+0]]+n[t[e+1]]+n[t[e+2]]+n[t[e+3]]+"-"+n[t[e+4]]+n[t[e+5]]+"-"+n[t[e+6]]+n[t[e+7]]+"-"+n[t[e+8]]+n[t[e+9]]+"-"+n[t[e+10]]+n[t[e+11]]+n[t[e+12]]+n[t[e+13]]+n[t[e+14]]+n[t[e+15]]).toLowerCase()}let _;const B=new Uint8Array(16);function I(){if(!_){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_=crypto.getRandomValues.bind(crypto)}return _(B)}const A=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),w={randomUUID:A};function f(t,e,a){if(w.randomUUID&&!t)return w.randomUUID();t=t||{};const r=t.random??t.rng?.()??I();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,$(r)}function y(){return M("notify-toast")}const q={class:"flex flex-col h-full"},V=["src"],G={class:"p-4 flex flex-col"},S={class:"text-xl font-bold"},L={class:"card-text"},O={class:"fw-bold text-primary"},T={__name:"ItemCard",props:{product:{type:Object,required:!0}},emits:["add-to-cart"],setup(t,{emit:e}){const a=t,{product:r}=a,{title:p,description:m,price:x,imgUrl:c}=r,i=e,o=y(),h=()=>{i("add-to-cart",r),o.successState(r.title)};return(j,Z)=>(l(),d("div",q,[s("img",{src:b(c),class:"object-cover",style:{width:"100%",height:"120px"}},null,8,V),s("div",G,[s("h5",S,u(b(p)),1),s("p",L,u(b(m)),1),s("p",O,"$ "+u(b(x)),1),s("button",{class:"btn-md btn-primary",onClick:h},"加入購物車")])]))}},R={class:"mb-3"},W={class:"flex flex-col"},Y={class:"flex items-center"},E={class:"me-2"},F=["onClick"],N={__name:"ItemCart",props:{cartLists:{type:Object,required:!0}},emits:["remove-cart"],setup(t,{emit:e}){const a=t,{cartLists:r}=a,p=e,m=y(),x=(c,i)=>{m.confirmModal(c.title).then(o=>{o.isConfirmed&&(p("remove-cart",i),m.successState(c.title,"deleteCart"))})};return(c,i)=>(l(),d("ul",R,[(l(!0),d(v,null,D(b(r),(o,h)=>(l(),d("li",{key:h,class:"text-slate-900 bg-gray-200 rounded-2 px-4 py-2 flex justify-between"},[s("div",W,[s("p",null,u(o.title),1),s("p",null,"數量："+u(o.qty),1)]),s("div",Y,[s("span",E,"$"+u(o.price),1),s("button",{type:"button",class:"btn-sm btn-danger rounded",onClick:j=>x(o,h)}," 移除 ",8,F)])]))),128))]))}},P={class:"flex gap-4"},z={class:"w-2/3"},J={class:"flex flex-wrap -mx-3 gap-y-3"},K={class:"w-1/3"},Q={key:0,class:"mb-3"},X={class:"text-xl font-semibold text-end"},et={__name:"WeekThreeTask",setup(t){const e=g([]),a=g({}),r=U(()=>Object.values(a.value).reduce((c,i)=>c+i.price*i.qty,0));k(()=>{e.value=[{id:f(),title:"耳罩式藍牙耳機",description:"舒適配戴，支援降噪技術",price:2490,imgUrl:"https://images.unsplash.com/photo-1546435770-a3e426bf472b?q=80&amp;w=2065&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:f(),title:"耳罩式彩虹耳機",description:"舒適配戴，支援降噪技術",price:1380,imgUrl:"https://images.unsplash.com/photo-1723924995430-b74c76bbcdfd?q=80&w=1160&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:f(),title:"時尚藍牙耳機",description:"舒適配戴，支援降噪技術",price:7990,imgUrl:"https://images.unsplash.com/photo-1640028056578-76ced19fd215?q=80&w=1374&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:f(),title:"機械式鍵盤",description:"紅軸機械鍵盤，打字手感極佳",price:1890,imgUrl:"https://images.unsplash.com/photo-1723709752095-f096290f53f7?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:f(),title:"無線滑鼠",description:"舒適配戴，支援降噪技術",price:890,imgUrl:"https://images.unsplash.com/photo-1660491083562-d91a64d6ea9c?q=80&w=1162&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}]});const p=y(),m=c=>{if(Object.keys(c).length===0){p.errorState();return}const i=Object.keys(a.value).filter(o=>a.value[o].id===c.id);if(i.length===0){const o=f();a.value[o]={...c,qty:1}}else a.value[i[0]].qty++},x=c=>{if(Object.keys(a.value).findIndex(o=>o===c)===-1){p.errorState("deleteCart");return}delete a.value[c]};return(c,i)=>(l(),d("div",P,[s("div",z,[i[0]||(i[0]=s("h3",{class:"text-2xl mb-4"},"商品列表",-1)),s("div",J,[(l(!0),d(v,null,D(e.value,o=>(l(),d("div",{key:o.id,class:"w-full md:w-1/2 lg:w-1/3 px-3"},[H(T,{product:o,onAddToCart:m},null,8,["product"])]))),128))])]),s("div",K,[i[1]||(i[1]=s("h3",{class:"text-2xl mb-4"},"購物車",-1)),Object.keys(a.value).length===0?(l(),d("p",Q,"沒有選購的商品喔")):(l(),C(N,{key:1,cartLists:a.value,onRemoveCart:x},null,8,["cartLists"])),s("h3",X,"總金額："+u(r.value),1)])]))}};export{et as default};
